# Chapter6 μ–΄λ…Έν…μ΄μ… νΈλμ­μ… μ†μ„±κ³Ό ν¬μΈνΈ μ»·

<br>

## νΈλμ­μ… μ–΄λ…Έν…μ΄μ…

### @Transactional 

![Image](https://github.com/user-attachments/assets/d7ea5641-824e-474c-88ce-7e48f0e493e0)

![Image](https://github.com/user-attachments/assets/64f24a52-3358-4a8f-b8de-21840ef6aef4)

**μ¤ν”„λ§**μ€ @Transactionalμ΄ λ¶€μ—¬λ <ins>**λ¨λ“  μ¤λΈμ νΈλ¥Ό μλ™μΌλ΅ νƒ€κΉƒ μ¤λΈμ νΈλ΅ μΈμ‹**</ins>ν•λ‹¤. 

μ΄λ•, μ‚¬μ©λλ” ν¬μΈνΈ μ»·μ€ `TransactionAttributeSourcePointcut`μ΄λ‹¤. 

β΅οΈ @Transactionalμ€ κΈ°λ³Έμ μΌλ΅ **νΈλμ­μ… μ†μ„±μ„ μ •μ**ν•λ” κ²ƒμ΄μ§€λ§ λ™μ‹μ— **ν¬μΈνΈμ»·μ μλ™λ“±λ΅μ—λ„ μ‚¬μ©**λλ‹¤.  

<br>

#### λ€μ²΄ μ •μ±… 

**π—¨οΈ @Transactionalμ„ λ°λ³µμ μΌλ΅ λ§¤μ†λ“λ§λ‹¤ λ¶€μ—¬ν•κ² λλ‹¤λ©΄?**

- μ½”λ“κ°€ μ§€μ €λ¶„ν•΄ μ§„λ‹¤. 
- λ™μΌν• μ†μ„±μ„ κ°€μ§„ μ–΄λ…Έν…μ΄μ…μ΄ μ¤‘λ³µλλ‹¤.

<br>

μ¤ν”„λ§μ—μ„λ” μ΄λ¬ν• λ¬Έμ λ¥Ό `4λ‹¨κ³„μ λ€μ²΄ μ •μ±… (fallback)`μ„ μ΄μ©ν•μ—¬ ν•΄κ²°ν•λ‹¤. 

**λ©”μ†λ“μ μ†μ„±μ„ ν™•μΈν•  λ•** `νƒ€κΉƒ λ©”μ†λ“ β΅οΈ νƒ€κΉƒ ν΄λμ¤ β΅οΈ μ„ μ–Έ λ©”μ†λ“ β΅οΈ μ„ μ–Έ νƒ€μ…` μ μμ„μ— λ”°λΌ <ins>**μ μ© μ—¬λ¶€λ¥Ό ν™•μΈ**</ins>ν•κ³  κ°€μ¥ <ins>**λ¨Όμ € λ°κ²¬λλ” μ†μ„±μ •λ³΄λ¥Ό μ‚¬μ©**</ins>ν•λ‹¤. 

![Image](https://github.com/user-attachments/assets/cd05b239-9ddb-4a2d-936b-54f0917f351f)


<br>

> **π’΅ ν…μ¤νΈμ—λ„ @Transactional μ μ©μ΄ κ°€λ¥ν•λ‹¤.** 
> 
> λ‹¤λ§, **ν…μ¤νΈ μ½”λ“μ—μ„ μ‹¤ν–‰μ΄ μ •μƒμ μΌλ΅ λλ‚λ©΄** @Transactionalμ€ κ°•μ  `λ΅¤λ°±`μ„ μ‹ν‚¤κΈ° λ•λ¬Έμ— <ins>**DBμ— μ‘μ—…μ΄ λ°μλμ§€ μ•λ”λ‹¤.**</ins>
> 
> β΅οΈ λ°μμ„ μ›ν•λ‹¤λ©΄ @Rollback μ„ μ‚¬μ©ν•λ‹¤. 


> π’΅ `@Rollback`μ€ **λ©”μ†λ“ λ λ²¨μ—μ„λ§ κ°€λ¥**ν•κΈ° λ•λ¬Έμ— <ins>μ „μ²΄μ μΌλ΅ λ΅¤λ°±μ μ†μ„± λ¶€μ—¬λ¥Ό μ›ν•λ‹¤λ©΄ @TransactionalConfigurationμ„ μ‚¬μ©</ins>ν•λ‹¤. 